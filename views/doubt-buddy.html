<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doubt Buddy - LearnBuddy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #4c1d95 0%, #5b21b6 50%, #6d28d9 100%);
        }
        .floating-card {
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        .mascot-bounce {
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        .message-slide-in {
            animation: slideInFromLeft 0.5s ease-out;
        }
        @keyframes slideInFromLeft {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .typing-indicator {
            animation: typing 1.5s ease-in-out infinite;
        }
        @keyframes typing {
            0%, 60%, 100% { opacity: 0.3; }
            30% { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header with Navigation -->
    <nav class="gradient-bg text-white py-6 shadow-2xl relative overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-r from-purple-600/20 to-transparent"></div>
        <div class="container mx-auto px-6 relative z-10">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="window.location.href='/'" class="flex items-center space-x-2 hover:bg-white/10 px-4 py-2 rounded-xl transition-all duration-300">
                        <span class="text-2xl">←</span>
                        <span class="font-semibold">Back to Home</span>
                    </button>
                </div>
                <div class="text-center">
                    <h1 class="text-3xl font-bold">🦸‍♀️ Meet Your Doubt Buddy</h1>
                    <p class="text-purple-200 mt-2">Your Friendly AI Learning Companion</p>
                </div>
                <div class="w-32"></div> <!-- Spacer for center alignment -->
            </div>
        </div>
    </nav>

    <!-- Floating Background Elements -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none z-0">
        <div class="floating-card absolute -left-24 top-20 w-64 h-64 bg-gradient-to-br from-green-400/20 to-green-600/20 rounded-full blur-3xl"></div>
        <div class="floating-card absolute -right-24 top-8 w-80 h-80 bg-gradient-to-br from-purple-400/20 to-purple-600/20 rounded-full blur-3xl" style="animation-delay: -2s;"></div>
        <div class="floating-card absolute -right-32 bottom-24 w-96 h-96 bg-gradient-to-br from-blue-400/20 to-blue-600/20 rounded-full blur-3xl" style="animation-delay: -4s;"></div>
    </div>

    <!-- Main Content -->
    <div class="container mx-auto px-6 py-16 relative z-10">
        
        <!-- Mascot Introduction -->
        <div class="bg-white rounded-3xl p-10 shadow-xl border border-purple-100 mb-12 text-center">
            <div class="mascot-bounce inline-block text-8xl mb-6">🦸‍♀️</div>
            <h2 class="text-3xl font-bold text-gray-800 mb-4">Hi! I'm Buddy 👋</h2>
            <p class="text-gray-600 text-lg mb-6 max-w-2xl mx-auto">
                I'm your friendly AI learning companion! I love helping students like you understand complex topics, 
                solve tricky problems, and make learning fun. Ask me anything about your studies!
            </p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
                <div class="bg-blue-50 border border-blue-200 rounded-2xl p-6">
                    <div class="text-3xl mb-3">🧠</div>
                    <h3 class="font-bold text-blue-800 mb-2">Smart Answers</h3>
                    <p class="text-blue-600 text-sm">I explain complex topics in simple, easy-to-understand language</p>
                </div>
                
                <div class="bg-green-50 border border-green-200 rounded-2xl p-6">
                    <div class="text-3xl mb-3">⚡</div>
                    <h3 class="font-bold text-green-800 mb-2">Quick Help</h3>
                    <p class="text-green-600 text-sm">Get instant answers to your questions, 24/7</p>
                </div>
                
                <div class="bg-purple-50 border border-purple-200 rounded-2xl p-6">
                    <div class="text-3xl mb-3">🎯</div>
                    <h3 class="font-bold text-purple-800 mb-2">Personalized</h3>
                    <p class="text-purple-600 text-sm">I adapt my explanations to your grade level and learning style</p>
                </div>
            </div>
        </div>

        <!-- Quick Topics -->
        <div class="bg-white rounded-3xl p-10 shadow-xl border border-purple-100 mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-8 text-center">🎯 Popular Topics I Can Help With</h2>
            
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <button onclick="askTopic('photosynthesis')" class="bg-green-50 border border-green-200 rounded-2xl p-4 text-center hover:bg-green-100 hover:border-green-300 transition-all duration-300 transform hover:scale-105">
                    <div class="text-2xl mb-2">🌱</div>
                    <div class="font-semibold text-green-800 text-sm">Photosynthesis</div>
                </button>
                
                <button onclick="askTopic('gravity')" class="bg-blue-50 border border-blue-200 rounded-2xl p-4 text-center hover:bg-blue-100 hover:border-blue-300 transition-all duration-300 transform hover:scale-105">
                    <div class="text-2xl mb-2">🌍</div>
                    <div class="font-semibold text-blue-800 text-sm">Gravity</div>
                </button>
                
                <button onclick="askTopic('fractions')" class="bg-purple-50 border border-purple-200 rounded-2xl p-4 text-center hover:bg-purple-100 hover:border-purple-300 transition-all duration-300 transform hover:scale-105">
                    <div class="text-2xl mb-2">🔢</div>
                    <div class="font-semibold text-purple-800 text-sm">Fractions</div>
                </button>
                
                <button onclick="askTopic('water cycle')" class="bg-orange-50 border border-orange-200 rounded-2xl p-4 text-center hover:bg-orange-100 hover:border-orange-300 transition-all duration-300 transform hover:scale-105">
                    <div class="text-2xl mb-2">💧</div>
                    <div class="font-semibold text-orange-800 text-sm">Water Cycle</div>
                </button>
                
                <button onclick="askTopic('f=ma')" class="bg-red-50 border border-red-200 rounded-2xl p-4 text-center hover:bg-red-100 hover:border-red-300 transition-all duration-300 transform hover:scale-105">
                    <div class="text-2xl mb-2">⚡</div>
                    <div class="font-semibold text-red-800 text-sm">Force & Motion</div>
                </button>
                
                <button onclick="askTopic('history')" class="bg-yellow-50 border border-yellow-200 rounded-2xl p-4 text-center hover:bg-yellow-100 hover:border-yellow-300 transition-all duration-300 transform hover:scale-105">
                    <div class="text-2xl mb-2">🏛️</div>
                    <div class="font-semibold text-yellow-800 text-sm">History</div>
                </button>
                
                <button onclick="askTopic('geometry')" class="bg-indigo-50 border border-indigo-200 rounded-2xl p-4 text-center hover:bg-indigo-100 hover:border-indigo-300 transition-all duration-300 transform hover:scale-105">
                    <div class="text-2xl mb-2">📐</div>
                    <div class="font-semibold text-indigo-800 text-sm">Geometry</div>
                </button>
                
                <button onclick="askTopic('english')" class="bg-pink-50 border border-pink-200 rounded-2xl p-4 text-center hover:bg-pink-100 hover:border-pink-300 transition-all duration-300 transform hover:scale-105">
                    <div class="text-2xl mb-2">📚</div>
                    <div class="font-semibold text-pink-800 text-sm">English</div>
                </button>
            </div>
        </div>

        <!-- Chat Interface -->
        <div class="bg-white rounded-3xl p-10 shadow-xl border border-purple-100">
            <h2 class="text-2xl font-bold text-gray-800 mb-8 text-center">💬 Chat with Buddy</h2>
            
            <!-- Chat Area -->
            <div class="bg-gray-50 rounded-3xl p-6 h-96 overflow-y-auto mb-6" id="chat-area">
                <!-- Welcome Message -->
                <div class="flex items-start space-x-3 mb-6 message-slide-in">
                    <div class="w-12 h-12 bg-gradient-to-r from-green-400 to-green-500 rounded-full flex items-center justify-center flex-shrink-0">
                        <span class="text-white text-xl">🦸‍♀️</span>
                    </div>
                    <div class="bg-white rounded-2xl p-4 shadow-sm max-w-xs">
                        <p class="text-gray-800">Hi there! 👋 I'm Buddy, your learning companion! Ask me anything about your studies. Try asking about photosynthesis, math problems, or any topic you're curious about!</p>
                    </div>
                </div>
            </div>
            
            <!-- Typing Indicator (Hidden by default) -->
            <div id="typing-indicator" class="hidden flex items-start space-x-3 mb-4">
                <div class="w-12 h-12 bg-gradient-to-r from-green-400 to-green-500 rounded-full flex items-center justify-center">
                    <span class="text-white text-xl">🦸‍♀️</span>
                </div>
                <div class="bg-white rounded-2xl p-4 shadow-sm">
                    <div class="flex space-x-1">
                        <div class="w-2 h-2 bg-gray-400 rounded-full typing-indicator"></div>
                        <div class="w-2 h-2 bg-gray-400 rounded-full typing-indicator" style="animation-delay: 0.2s;"></div>
                        <div class="w-2 h-2 bg-gray-400 rounded-full typing-indicator" style="animation-delay: 0.4s;"></div>
                    </div>
                </div>
            </div>
            
            <!-- Input Area -->
            <div class="flex space-x-4">
                <input type="text" id="doubt-question" placeholder="Ask me anything about your studies..." 
                       class="flex-1 border-2 border-gray-300 rounded-2xl px-6 py-4 text-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300">
                <button onclick="askMascot()" 
                        class="bg-gradient-to-r from-green-500 to-green-600 text-white px-8 py-4 rounded-2xl hover:from-green-600 hover:to-green-700 transition-all duration-300 font-semibold text-lg shadow-lg hover:shadow-xl transform hover:scale-105">
                    Send 📤
                </button>
            </div>
            
            <!-- Quick Suggestions -->
            <div class="mt-6">
                <p class="text-gray-600 text-sm mb-3">💡 Quick suggestions:</p>
                <div class="flex flex-wrap gap-2">
                    <button onclick="askQuickQuestion('What is photosynthesis?')" class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-full text-sm transition-colors">
                        What is photosynthesis?
                    </button>
                    <button onclick="askQuickQuestion('How does gravity work?')" class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-full text-sm transition-colors">
                        How does gravity work?
                    </button>
                    <button onclick="askQuickQuestion('Explain F=ma')" class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-full text-sm transition-colors">
                        Explain F=ma
                    </button>
                    <button onclick="askQuickQuestion('What are fractions?')" class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-full text-sm transition-colors">
                        What are fractions?
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        const responses = {
            "photosynthesis": {
                answer: "Great question! 🌱 Photosynthesis is how plants make their own food! Think of it like this: plants are amazing chefs that use sunlight as their cooking energy, water as one ingredient, and carbon dioxide from the air as another ingredient. They mix these together to create glucose (plant food) and oxygen (which we breathe)! The green parts of plants called chloroplasts are like tiny kitchens where this magic happens. Pretty cool, right? 🍃",
                emoji: "🌱"
            },
            "gravity": {
                answer: "Awesome question! 🌍 Gravity is like an invisible force that pulls everything towards the center of Earth! Imagine Earth is like a giant magnet, but instead of just pulling metal things, it pulls EVERYTHING - you, me, your books, even the air! That's why when you drop something, it falls down instead of floating away. The bigger and heavier something is, the stronger its gravitational pull. Earth is really big, so it has a strong pull that keeps us on the ground! 🚀",
                emoji: "🌍"
            },
            "f=ma": {
                answer: "Excellent question! ⚡ F = ma is Newton's second law! Let me break it down: F means Force (like a push or pull), m means mass (how heavy something is), and a means acceleration (how fast something speeds up). So the formula says: the more force you use, the faster something will accelerate! Think of pushing a shopping cart - if it's empty (less mass), a small push makes it go fast. If it's full of groceries (more mass), you need a bigger push to make it move the same speed! 🛒",
                emoji: "⚡"
            },
            "fractions": {
                answer: "Great question! 🍕 Fractions are just parts of a whole! Think of a pizza cut into slices. If you cut a pizza into 8 slices and take 3 slices, you have 3/8 of the pizza! The bottom number (8) tells you how many equal parts the whole thing is divided into, and the top number (3) tells you how many parts you have. It's like sharing things fairly - 1/2 means half, 1/4 means a quarter, and so on! Fractions help us talk about parts of things in a precise way! 🎯",
                emoji: "🔢"
            },
            "water cycle": {
                answer: "Fantastic question! 💧 The water cycle is like nature's recycling system! Here's how it works: 1) The sun heats up water in oceans, lakes, and rivers, making it evaporate into invisible water vapor 2) This vapor rises up and cools down, forming clouds (condensation) 3) When clouds get too heavy, water falls as rain or snow (precipitation) 4) This water flows back to rivers and oceans, and the cycle starts again! It's like Earth's way of cleaning and reusing water over and over! 🌧️",
                emoji: "💧"
            },
            "history": {
                answer: "Wonderful question! 🏛️ History is like reading the most amazing story book ever - except it's all true! It tells us about real people who lived before us, the incredible things they did, the civilizations they built, and the lessons they learned. By studying history, we understand how we got the world we live in today, and we can learn from past mistakes to make better choices. Think of it as learning from the experiences of millions of people who came before us! Pretty awesome, right? 📚",
                emoji: "🏛️"
            },
            "geometry": {
                answer: "Excellent question! 📐 Geometry is the study of shapes, sizes, and how they relate to each other! It's everywhere around us - in the buildings we live in, the phones we use, even in nature! Triangles, circles, squares, and rectangles all have special properties. For example, triangles are super strong (that's why bridges use them!), and circles have the same distance from the center to any point on the edge. Geometry helps architects design buildings, artists create beautiful art, and even helps video game designers create amazing worlds! 🎮",
                emoji: "📐"
            },
            "english": {
                answer: "Great question! 📚 English is such a powerful tool! It helps us express our thoughts, tell stories, and communicate with people all around the world. When we study English, we learn about grammar (the rules for putting words together), vocabulary (learning new words), reading comprehension (understanding what we read), and writing (expressing our ideas clearly). English opens doors to amazing literature, helps us understand different cultures, and gives us the skills to share our own ideas with the world! ✨",
                emoji: "📚"
            }
        };
        
        function showTypingIndicator() {
            document.getElementById('typing-indicator').classList.remove('hidden');
            scrollChatToBottom();
        }
        
        function hideTypingIndicator() {
            document.getElementById('typing-indicator').classList.add('hidden');
        }
        
        function scrollChatToBottom() {
            const chatArea = document.getElementById('chat-area');
            chatArea.scrollTop = chatArea.scrollHeight;
        }
        
        function addMessageToChat(message, isUser = false) {
            const chatArea = document.getElementById('chat-area');
            
            if (isUser) {
                chatArea.innerHTML += `
                    <div class="flex justify-end mb-6">
                        <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-2xl p-4 max-w-xs shadow-sm">
                            <p>${message}</p>
                        </div>
                    </div>
                `;
            } else {
                chatArea.innerHTML += `
                    <div class="flex items-start space-x-3 mb-6 message-slide-in">
                        <div class="w-12 h-12 bg-gradient-to-r from-green-400 to-green-500 rounded-full flex items-center justify-center flex-shrink-0">
                            <span class="text-white text-xl">🦸‍♀️</span>
                        </div>
                        <div class="bg-white rounded-2xl p-4 shadow-sm max-w-lg">
                            <p class="text-gray-800">${message}</p>
                        </div>
                    </div>
                `;
            }
            scrollChatToBottom();
        }
        
        function askMascot() {
            const question = document.getElementById('doubt-question').value.trim();
            if (!question) return;
            
            // Add user message
            addMessageToChat(question, true);
            document.getElementById('doubt-question').value = '';
            
            // Show typing indicator
            showTypingIndicator();
            
            // Find appropriate response
            setTimeout(() => {
                hideTypingIndicator();
                
                let response = "That's a fantastic question! 😊 I love your curiosity! While I have detailed explanations for topics like photosynthesis, gravity, F=ma, fractions, water cycle, history, geometry, and English, I'm always learning more! Try asking about one of those topics, or feel free to ask anything else - I'll do my best to help! 🌟";
                
                const lowerQuestion = question.toLowerCase();
                for (const [keyword, data] of Object.entries(responses)) {
                    if (lowerQuestion.includes(keyword)) {
                        response = data.answer;
                        break;
                    }
                }
                
                addMessageToChat(response);
            }, 1500 + Math.random() * 1000); // Random delay between 1.5-2.5 seconds
        }
        
        function askTopic(topic) {
            document.getElementById('doubt-question').value = `Tell me about ${topic}`;
            askMascot();
        }
        
        function askQuickQuestion(question) {
            document.getElementById('doubt-question').value = question;
            askMascot();
        }
        
        // Allow Enter key for input
        document.getElementById('doubt-question').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                askMascot();
            }
        });
        
        // Auto-focus on input
        document.getElementById('doubt-question').focus();
    </script>
</body>
</html>